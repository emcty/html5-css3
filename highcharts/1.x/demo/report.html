<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title></title>
    <!--样式-->
    <link rel="stylesheet" href="../css/biao.css">
</head>
<body>
    <div class="hc-tognlan">
        <div class="hc-header">
            <h2 class="h2">新东方掌上学习平台用户使用数据报告</h2>
            <p>院校/图书馆：华北理工大学</p>
        </div>
    </div>
    <div class="content">
        <div class="hc-title">数据概要</div>
        <div class="hc-top">
            <ul>
                <li>
                    <p class="mt10">累计用户量</p>
                    <p class="big mt15">4572</p>
                </li>
                <li>
                    <p class="mt10">累计访问时长</p>
                    <p class="mt15"><span class="big">100</span>天<span class="big">00</span>小时<span class="big">11</span>分</p>
                </li>
                <li>
                    <p class="mt10">累计课程下载量</p>
                    <p class="mt15"><span class="big">4572</span>万</p>
                </li>
                <li>
                    <p class="mt10">累计课程下载量</p>
                    <p class="mt15"><span class="big">4572</span>万</p>
                </li>
                <li>
                    <p class="mt10">累计课程下载量</p>
                    <p class="mt15"><span class="big">4572</span>万</p>
                </li>
            </ul>
        </div>

        <div class="hc-title-wrap">
            <div class="hc-title">数据趋势</div>
            <div class="hc-date">
                <span class="wz">2015.12.23 -- 2016.01.12</span>
            </div>
        </div>

        <div class="hc-biao-target">


        </div>
        <span class="hc-tips" style="font-size:12px;color:#808080;padding-left:10px;">按周、月、季显示数据时，界面上用查询的起始时间作为第一时间点，默认7天为1周，30天为1月，120天为1季。</span>
        <br><br><br><br><br><br>

    </div>
</body>

<script src="../lib/jquery/jquery.js"></script>
<script src="../lib/lodash/lodash.min.js"></script>
<script src="../lib/highcharts/highcharts.js"></script>
<script src="../lib/highcharts/highcharts-3d.js"></script>

<script>
    var fns = {
        millisecondToDate:function(msd){
            var rem = 0;
            var timeStamp = parseFloat(msd) / 1000;
            var hours = Math.floor(timeStamp / 3600);
            rem = timeStamp % 3600;
            var minute = Math.floor(rem / 60);
            rem = rem % 60;
            var second = Math.floor(rem);
            return (hours+"小时"+minute+"分"+second+"秒");
        },
        onDateChange:function(start, end, label){
            /**
             * 选择日期的时候的回调
             */
            console.log(start.toISOString(), end.toISOString(), label);
        },
        numberFormatter:function(){
            var value =  this.value;
            if(value >= 100000000){
                value = (value / 100000000).toFixed(2) +"亿";
            }else if(value>=10000000){
                value = (value / 10000000).toFixed(2)+"千万";
            }else if(value>=1000000){
                value = (value / 1000000).toFixed(2)+"百万";
            }else if(value>=100000){
                value = (value / 100000).toFixed(2)+"十万";
            }
            return value
        }

    }

    // 公共配置
    var hc_settings_def = {
        credits: {
            enabled: false
        },
        title: {
            text: ''
        },
        legend: {
            enabled:false
        },
        chart: {
            marginLeft:70,
            marginRight:30
        },
        colors:['#4770a4']
    };
    // 设置 extend 公共配置
    var hc_settings = {};
    hc_settings.biao1 = {
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:fns.numberFormatter
            }
        },
        series: [{
            name: '用户量',
            data: [1000000,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150]
        }]
    };
    hc_settings.biao2 = {
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:function(){
                    var value =  this.value;
                    return fns.millisecondToDate(value);
                }
            }
        },
        chart: {
            marginLeft:130,
            marginRight:30
        },
        series: [{
            name: '访问时长',
            data: [9044112180,9044200,9044280,9042800,9442800,9044280,90442800,90442800,90442800,90442800,90442800,90442800,90442800,90442800,90442800,90442800,90442800,90442800,90442800]
        }]
    };
    hc_settings.biao3 = {
        chart: {
            type: 'column',
            marginLeft:70,
            marginRight:30
        },
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        series: [{
            name: '课程下载量',
            data: [1850,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150]
        }],
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:fns.numberFormatter
            }
        }
    };
    hc_settings.biao4 = {
        chart: {
            type: 'column',
            marginLeft:70,
            marginRight:30
        },
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:fns.numberFormatter
            }
        },
        tooltip: {
            valueSuffix: ''
        },
        series: [{
            name: '页面访问量',
            data: [123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123]
        }]
    };
    hc_settings.biao5 = {

        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        tooltip: {
            valueSuffix: ''
        },
        series: [{
            name: '活跃用户量',
            data: [123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123]
        }],
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:fns.numberFormatter
            }
        }
    };
    hc_settings.biao6 = {
        chart: {
            renderTo: 'container',
            type: 'column',
            margin: 35,
            marginBottom:65,
            marginLeft:70,
            marginRight:90,
             options3d: {
             enabled: true,
             alpha: 10,
             beta: 15,
             depth: 50,
             viewDistance: 25
             }
        },
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:fns.numberFormatter
            }
        },
        xAxis: {
            categories: ['趣味听听','视频课堂','音频课堂','双语阅读','阅读训练','掌上题库'],
            tickmarkPlacement:'on'

        },
        plotOptions: {
            column: {
                depth: 90
            }
        },
        series: [{
            name:'模块点击量',
            data: [1000000000,3200,3300,1111,0,0]
        }]
    };
    hc_settings.biao7 = {
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        series: [{
            type: 'pie',
            name: '模块点击量    ',
            data: [
                ['趣味听听', 25.0],
                ['视频课堂', 26.8],
                ['音频课堂', 8.5],
                ['双语阅读', 6.2],
                ['阅读训练', 6.2],
                ['掌上题库', 4.7]
            ]

        }],
        plotOptions: {
            pie: {
                showInLegend: true,
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                }
            }
        },
        legend: {
            enabled:true,
            layout: 'vertical',
            backgroundColor: '#FFFFFF',
            floating: true,
            align: 'left',
            verticalAlign: 'top',
            x: 730,
            y: 45
        },
        yAxis: {
            title: {
                text: ''
            },
            labels:{
                formatter:fns.numberFormatter
            }
        },
        colors: ['#ff7e7e', '#ffca7e', '#97d973', '#73a5d9', '#8873d9', '#c273d9', '#ff7e7e', '#ffca7e'],
    };

    /**
     * 图表外层div配置
     * @type []
     */
    var opts = [
        {
            idname:'biao1',
            title:'用户量：某公共账号下注册过应用的所有独立用户。'
        },
        {
            idname:'biao2',
            title:'访问时长：某公共账号下用户使用时长之和。'
        },
        {
            idname:'biao3',
            title:'课程下载量：某公共账号下用户知识点下载数量之和。'
        },
        {
            idname:'biao4',
            title:'页面访问量：某公共账号下用户页面访问数量之和。'
        },
        {
            idname:'biao5',
            title:'活跃用户量：过去的某个时间段范围内，某公共账号下启动过应用的用户(去重)，包括新老用户。'
        },
        {
            idname:'biao6',
            title:'模块点击量：某公共账号下用户在各产品模块下的点击次数。',
            style:'height:380px;'
        },
        {
            idname:'biao7',
            title:'',
            merge:true,
            style:"height:380px;"
        }
    ];

</script>


<script src="../js/preview.js"></script>