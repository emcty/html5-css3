<!DOCTYPE html>
<head>
    <!--微课堂ＷＡＰ用户统计页面-->
    <meta charset="utf-8">
    <title></title>
    <!--样式-->
    <link rel="stylesheet" href="../css/biao.css">
    <link rel="stylesheet" href="../css/weiketang.css">
</head>
<body>
    <header>
        <p><img src="logo.png"></p>
        <p>微课堂用户统计</p>
    </header>
    <div class="content mt20">
        <div class="hc-title">数据概要</div>
        <div class="hc-top">
            <ul>
                <li>
                    <p class="mt10">累计用户量</p>
                    <p class="big mt15">4572</p>
                </li>
                <li>
                    <p class="mt10">累计听课时长</p>
                    <p class="mt15"><span class="big">100天00小时11分</span></p>
                </li>
                <li>
                    <p class="mt10">累计页面访问量</p>
                    <p class="mt15"><span class="big">4572</span>万</p>
                </li>
            </ul>
        </div>
        <div class="hc-tabs-container">
            <div class="hc-title-wrap">
                <div class="hc-title">数据统计</div>
                <div class="hc-date">
                    <label>
                        <input class="date-range" value="2015.12.23 -- 2016.01.12">
                        <p class="hc-data-ico"></p>
                    </label>
                </div>
            </div>
        
            <div class="hc-tabs">

            </div>
            <br>
            <span class="hc-tips" style="font-size:12px;color:#808080;padding-left:10px;">按周、月、季显示数据时，界面上用查询的起始时间作为第一时间点，默认7天为1周，30天为1月，120天为1季。</span>
            <br><br><br>
        </div>
    
        <div class="hc-table">
            <div class="hc-title-wrap">
                <div class="hc-title">用户学习统计</div>
                <div class="hc-date">
                    <label>
                        <input class="date-range" value="2015.12.23 -- 2016.01.12">
                        <p class="hc-data-ico"></p>
                    </label>
                </div>
            </div>
            <table width="100%" cellspacing="0" cellpadding="10" class="co-table">
                <thead><tr><th>排名</th><th>用户名</th><th>累计学习时长</th></tr></thead>
                <tbody>
                    <tr><td>1</td><td>张三</td><td>10小时40分35秒</td></tr>
                    <tr><td>1</td><td>张三</td><td>10小时40分35秒</td></tr>
                    <tr><td>1</td><td>张三</td><td>10小时40分35秒</td></tr>
                </tbody>
            </table>
            <div class="page">
                <a href="">首页</a><a href="">1</a><a href="">2</a><a href="">末页</a>
            </div>
        </div>
        <div class="hc-table">
            <div class="hc-title-wrap">
                <div class="hc-title">课程访问统计</div>
                <div class="hc-date">
                    <label>
                        <input class="date-range" value="2015.12.23 -- 2016.01.12">
                        <p class="hc-data-ico"></p>
                    </label>
                </div>
            </div>
            <table width="100%" cellspacing="0" cellpadding="10" class="co-table">
                <thead><tr><th>课程编号</th><th>课程名称</th><th>访问量</th></tr></thead>
                <tbody>
                    <tr><td>1</td><td>张三</td><td>10小时40分35秒</td></tr>
                    <tr><td>1</td><td>张三</td><td>10小时40分35秒</td></tr>
                    <tr><td>1</td><td>张三</td><td>10小时40分35秒</td></tr>
                </tbody>
            </table>
            <div class="page">
                <a href="">首页</a><a href="">1</a><a href="">2</a><a href="">末页</a>
            </div>
        </div>
    </div>
</body>

<script src="../lib/jquery/jquery.js"></script>
<script src="../lib/highcharts/highcharts.js"></script>
<script src="../js/wktbiao.js"></script>
<script src="../lib/lodash/lodash.min.js"></script>
<!--bootstrap data-->
<link rel="stylesheet" href="../lib/b-daterangepicker/daterangepicker-bs3.css">
<script src="../lib/b-daterangepicker/moment.js"></script>
<script src="../lib/b-daterangepicker/daterangepicker.js"></script>
<!--bootstrap end-->
<script src="../lib/highcharts/highcharts-3d.js"></script>

<script>
    var fns = {
        millisecondToDate:function(msd){
            var rem = 0;
            var timeStamp = parseFloat(msd) / 1000;
            var hours = Math.floor(timeStamp / 3600);
            rem = timeStamp % 3600;
            var minute = Math.floor(rem / 60);
            rem = rem % 60;
            var second = Math.floor(rem);
            return (hours+"小时"+minute+"分"+second+"秒");
        },
        onDateChange:function(start, end, label){
            /**
             * 选择日期的时候的回调
             */
            console.log(start.toISOString(), end.toISOString(), label);
        }
    }

    // 公共配置
    var hc_settings_def = {
        credits: {
            enabled: false
        },
        title: {
            text: ''
        },
        legend: {
            enabled:false
        },
        chart: {
            marginLeft:70,
            marginRight:30
        },
        colors:['#4770a4']
    };
    // 设置 extend 公共配置
    var hc_settings = {};
    hc_settings.biao1 = {
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        yAxis: {
            title: {
                text: ''
            },
            max:2400,
            min:1800
        },
        series: [{
            name: '用户量',
            data: [1850,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150,1800,1850,1900,1950,2000,2050,2100,2150]
        }]
    };
    hc_settings.biao2 = {
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        yAxis: {
            title: {
                text: ''
            },
            min:0,
            labels:{
                formatter:function(){
                    var value =  this.value;
                    return fns.millisecondToDate(value);
                }
            }
        },
        chart: {
            marginLeft:130,
            marginRight:30
        },
        series: [{
            name: '听课时长',
            data: [9044280,9044200,9044280,9042800,9442800,9044280,90442800,90442800,90442800]
        }]
    };

    hc_settings.biao3 = {
        chart: {
            type: 'column',
            marginLeft:70,
            marginRight:30
        },
        xAxis: {
            categories: ['2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8','2015/11/8'],
            tickInterval:4,
            tickmarkPlacement:'on'
        },
        yAxis: {
            title: {
                text: ''
            },
            max:200,
            min:0
        },
        tooltip: {
            valueSuffix: ''
        },
        series: [{
            name: '页面访问量',
            data: [123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123,123]
        }]
    };

    hc_settings.biao4= {
        chart: {
            renderTo: 'container',
            type: 'column',
            margin: 35,
            marginBottom:65,
            marginLeft:70,
            marginRight:90,
            options3d: {
                enabled: true,
                alpha: 10,
                beta: 15,
                depth: 50,
                viewDistance: 25
            }
        },
        yAxis: {
            title: {
                text: ''
            },
            max:3312,
            min:0
        },
        xAxis: {
            categories: ['趣味听听','视频课堂','音频课堂','双语阅读','阅读训练','掌上题库'],
            tickmarkPlacement:'on'

        },
        plotOptions: {
            column: {
                depth: 90
            }
        },
        series: [{
            name:'模块点击量',
            data: [2400,3200,3300,1111,2222,1234]
        }]
    };
    hc_settings.biao5 = {
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        series: [{
            type: 'pie',
            name: '点击量',
            data: [
                ['趣味听听', 25.0],
                ['视频课堂', 26.8],
                ['音频课堂', 8.5],
                ['双语阅读', 6.2],
                ['阅读训练', 6.2],
                ['掌上题库', 4.7]
            ]

        }],
        plotOptions: {
            pie: {
                showInLegend: true,
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                }
            }
        },
        legend: {
            enabled:true,
            layout: 'vertical',
            backgroundColor: '#FFFFFF',
            floating: true,
            align: 'left',
            verticalAlign: 'top',
            x: 730,
            y: 45
        },
        colors: ['#ff7e7e', '#ffca7e', '#97d973', '#73a5d9', '#8873d9', '#c273d9', '#ff7e7e', '#ffca7e'],
    };
    /**
     * 图表外层div配置
     * @type []
     */
    var opts = [
        {
            idname:'biao1',
            title:'用户量：某公共账号下注册过应用的所有独立用户。',
            short_tit:'用户量'
        },
        {
            idname:'biao2',
            title:'听课时长：某公共账号下用户听课时长之和。',
            short_tit:'听课时长'
        },
        {
            idname:'biao3',
            title:'页面访问量：某公共账号下用户页面访问数量之和。',
            short_tit:'页面访问量'
        },
        {
            idname:'biao4',
            title:'模块点击量：某公共账号下用户在各产品模块下的点击次数。',
            short_tit:'模块点击量',
            merge:true
        },
        {
            idname:'biao5',
            title:''
        }
    ];

</script>